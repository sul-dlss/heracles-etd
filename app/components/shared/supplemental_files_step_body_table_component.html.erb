<%= render Elements::Tables::TableComponent.new(id: 'supplemental-files-table',
                                                label: 'Supplemental Files',
                                                show_label: false) do |component| %>
  <% component.with_headers([
                              { label: 'Supplemental File (maximum size 1GB)' },
                              { label: 'Type' },
                              { label: 'Size' },
                              { label: 'Upload Date' },
                              with_remove ? { label: 'Remove', classes: 'sr-only' } : { label: '' }
                            ]) %>
  <% supplemental_files.each do |supplemental_file| %>
    <% component.with_row do |row_component| %>
      <%= row_component.with_cell do %><%= link_to(supplemental_file.filename, rails_blob_path(supplemental_file)) %><% end %>
      <%= row_component.with_cell do %><%= supplemental_file.content_type %><% end %>
      <%= row_component.with_cell do %><%= helpers.number_to_human_size(supplemental_file.byte_size) %><% end %>
      <%= row_component.with_cell do %><%= helpers.local_time(supplemental_file.created_at) %><% end %>
      <%= row_component.with_cell do %>
        <% if with_remove %>
          <%= render Edit::ButtonFormComponent.new(submission:, field: :remove_supplemental_file, value: supplemental_file.id, classes: 'p-0') do %>
            <i class="bi bi-trash-fill me-1"></i>Remove
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>
<% end %>

<%= render Elements::Tables::TableComponent.new(id: 'dissertation-file-table',
                                                label: 'Dissertation File',
                                                show_label: false) do |component| %>
  <% component.with_headers([
                              { label: 'Dissertation File (maximum size 1GB)' },
                              { label: 'Type' },
                              { label: 'Size' },
                              { label: 'Upload Date' },
                              with_remove ? { label: 'Remove', classes: 'sr-only' } : { label: '' }
                            ]) %>
  <% if show_original %>
    <% component.with_row(label: dissertation_file? ? link_to(dissertation_file.filename, dissertation_file_submission_path(submission), download: true) : 'Not uploaded') do |row_component| %>
      <%= row_component.with_cell do %>PDF<% end %>
      <%= row_component.with_cell do %><%= helpers.number_to_human_size(dissertation_file.byte_size) if dissertation_file.byte_size %><% end %>
      <%= row_component.with_cell do %><%= helpers.local_time(dissertation_file.created_at) if dissertation_file.created_at %><% end %>
      <%= row_component.with_cell do %>
        <% if with_remove %>
          <%= render Edit::ButtonFormComponent.new(submission:, field: :remove_dissertation_file, value: 'true', classes: 'p-0', data: remove_btn_data, aria: { label: "Remove #{dissertation_file.filename}" }) do %>
            <i class="bi bi-trash-fill me-1"></i>Remove
          <% end %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <% if show_augmented && augmented_dissertation_file? %>
    <% component.with_row(label: link_to(dissertation_file.filename, augmented_dissertation_file_submission_path(submission), download: true)) do |row_component| %>
      <%= row_component.with_cell do %>PDF<% end %>
      <%= row_component.with_cell do %><%= helpers.number_to_human_size(augmented_dissertation_file.byte_size) if augmented_dissertation_file.byte_size %><% end %>
      <%= row_component.with_cell do %><%= helpers.local_time(augmented_dissertation_file.created_at) if augmented_dissertation_file.created_at %><% end %>
    <% end %>
  <% end %>
<% end %>
